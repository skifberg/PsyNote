<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∞–º–æ–∞–Ω–∞–ª–∏–∑ - PsyNote</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-12">
            <a href="/" class="inline-block mb-6 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">
                ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
            <h1 class="text-4xl font-bold text-indigo-800 mb-4">üåø –ú–æ–¥—É–ª—å –°–∞–º–æ–∞–Ω–∞–ª–∏–∑–∞</h1>
            <p class="text-lg text-gray-600">–¢–µ—Ö–Ω–∏–∫–∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –∏ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—è</p>
        </header>

        <!-- –ú–æ–¥—É–ª–∏ -->
        <div id="modulesSection" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
            <div class="bg-white rounded-xl shadow-lg p-6 text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">üìù</span>
                </div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
                <p class="text-gray-600 mb-4">–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏</p>
                <button onclick="loadTechnique('reflection', 'daily_questions')" 
                        class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                    –ù–∞—á–∞—Ç—å
                </button>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 text-center">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">üí≠</span>
                </div>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</h3>
                <p class="text-gray-600 mb-4">–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö —ç–º–æ—Ü–∏–π –∏ —á—É–≤—Å—Ç–≤</p>
                <button onclick="loadTechnique('reflection', 'emotional_state')" 
                        class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                    –ù–∞—á–∞—Ç—å
                </button>
            </div>
        </div>

        <!-- –¢–µ—Ö–Ω–∏–∫–∞ -->
        <div id="techniqueSection" class="hidden max-w-2xl mx-auto">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-6">
                <h2 id="techniqueName" class="text-2xl font-semibold text-gray-800 mb-2">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                <p id="techniqueDescription" class="text-gray-600 mb-6">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏–∏</p>
                
                <div class="text-center">
                    <button onclick="getRandomQuestion()" class="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">
                        üé≤ –°–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
                    </button>
                </div>
            </div>

            <!-- –í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">–í–æ–ø—Ä–æ—Å –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è</h3>
                <p id="currentQuestion" class="text-lg text-gray-700 italic mb-6 bg-yellow-50 p-4 rounded-lg">
                    –ù–∞–∂–º–∏—Ç–µ "–°–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å" —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å
                </p>
                
                <textarea id="answerText" rows="6" 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                    placeholder="–ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –º—ã—Å–ª–∏ –∑–¥–µ—Å—å..."></textarea>
                
                <div class="mt-4 flex justify-between items-center">
                    <span id="charCount" class="text-sm text-gray-500">0/1000 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    <button onclick="saveAnswer()" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentTechnique = null;
        let currentQuestion = '';

        async function loadTechnique(moduleId, techniqueId) {
            try {
                // –ü–æ–∫–∞–∂–µ–º –∑–∞–≥–ª—É—à–∫—É, –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –≥—Ä—É–∑—è—Ç—Å—è
                document.getElementById('techniqueName').textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
                document.getElementById('techniqueDescription').textContent = '';
                
                document.getElementById('techniqueSection').classList.remove('hidden');
                document.getElementById('modulesSection').classList.add('hidden');
                
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å API
                currentTechnique = {
                    id: techniqueId,
                    moduleId: moduleId,
                    name: techniqueId === 'daily_questions' ? '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã' : '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ',
                    description: techniqueId === 'daily_questions' 
                        ? '–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏' 
                        : '–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ'
                };
                
                document.getElementById('techniqueName').textContent = currentTechnique.name;
                document.getElementById('techniqueDescription').textContent = currentTechnique.description;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Ö–Ω–∏–∫–∏');
            }
        }

        async function getRandomQuestion() {
            if (!currentTechnique) return;
            
            try {
                // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è API
                const questions = {
                    'daily_questions': [
                        "–ß—Ç–æ —è —á—É–≤—Å—Ç–≤—É—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?",
                        "–ß—Ç–æ –≤—ã–∑–≤–∞–ª–æ —É –º–µ–Ω—è —É–ª—ã–±–∫—É —Å–µ–≥–æ–¥–Ω—è?",
                        "–ß—Ç–æ —è —Ö–æ—Ç–µ–ª –±—ã –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ?",
                        "–ó–∞ —á—Ç–æ —è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω —Å–µ–≥–æ–¥–Ω—è?",
                        "–ß—Ç–æ —è —É–∑–Ω–∞–ª –Ω–æ–≤–æ–≥–æ –æ —Å–µ–±–µ?"
                    ],
                    'emotional_state': [
                        "–ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ —è –∏—Å–ø—ã—Ç—ã–≤–∞—é –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç?",
                        "–ß—Ç–æ –≤—ã–∑–≤–∞–ª–æ —ç—Ç–∏ —ç–º–æ—Ü–∏–∏?",
                        "–ö–∞–∫ —ç—Ç–∏ —ç–º–æ—Ü–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –º–æ–∏ —Ä–µ—à–µ–Ω–∏—è?",
                        "–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏?"
                    ]
                };
                
                const techQuestions = questions[currentTechnique.id] || questions['daily_questions'];
                currentQuestion = techQuestions[Math.floor(Math.random() * techQuestions.length)];
                
                document.getElementById('currentQuestion').textContent = currentQuestion;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–∞');
            }
        }

        async function saveAnswer() {
            const answerText = document.getElementById('answerText').value.trim();
            
            if (!answerText) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç');
                return;
            }

            alert('‚úÖ –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω! –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API.');
            document.getElementById('answerText').value = '';
        }

        // –ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤
        document.getElementById('answerText').addEventListener('input', function() {
            const length = this.value.length;
            document.getElementById('charCount').textContent = `${length}/1000 —Å–∏–º–≤–æ–ª–æ–≤`;
        });
    </script>
</body>
</html>